-- WARNING: This schema is for context only and is not meant to be run.
-- Table order and constraints may not be valid for execution.

CREATE TABLE public.Groups_Ingredients (
  id bigint GENERATED ALWAYS AS IDENTITY NOT NULL,
  created_at timestamp with time zone NOT NULL DEFAULT now(),
  name text,
  CONSTRAINT Groups_Ingredients_pkey PRIMARY KEY (id)
);
CREATE TABLE public.Ingredients (
  id bigint GENERATED ALWAYS AS IDENTITY NOT NULL,
  name text UNIQUE,
  created_at timestamp with time zone NOT NULL DEFAULT now(),
  CONSTRAINT Ingredients_pkey PRIMARY KEY (id)
);
CREATE TABLE public.Ingredients_recipes (
  id bigint GENERATED ALWAYS AS IDENTITY NOT NULL,
  ingredient bigint,
  cuantity numeric,
  created_at timestamp with time zone NOT NULL DEFAULT now(),
  unit bigint,
  recipe bigint,
  group bigint,
  CONSTRAINT Ingredients_recipes_pkey PRIMARY KEY (id),
  CONSTRAINT Ingredients_recipes_unit_fkey FOREIGN KEY (unit) REFERENCES public.Units(id),
  CONSTRAINT Ingredients_recipes_recipe_fkey FOREIGN KEY (recipe) REFERENCES public.Recipes(id),
  CONSTRAINT Ingredients_recipes_ingredient_fkey FOREIGN KEY (ingredient) REFERENCES public.Ingredients(id),
  CONSTRAINT Ingredients_recipes_group_fkey FOREIGN KEY (group) REFERENCES public.Groups_Ingredients(id)
);
CREATE TABLE public.Levels (
  id bigint GENERATED ALWAYS AS IDENTITY NOT NULL,
  created_at timestamp with time zone NOT NULL DEFAULT now(),
  name text,
  CONSTRAINT Levels_pkey PRIMARY KEY (id)
);
CREATE TABLE public.Orders (
  id bigint GENERATED ALWAYS AS IDENTITY NOT NULL,
  created_at timestamp with time zone NOT NULL DEFAULT now(),
  name text,
  CONSTRAINT Orders_pkey PRIMARY KEY (id)
);
CREATE TABLE public.Recipes (
  id bigint GENERATED ALWAYS AS IDENTITY NOT NULL,
  created_at timestamp with time zone NOT NULL DEFAULT now(),
  updated_at timestamp without time zone DEFAULT now(),
  elaboration ARRAY,
  preparation_time numeric,
  link text,
  type bigint,
  difficulty bigint,
  country_origin text,
  order bigint,
  source bigint,
  image text,
  name text,
  tag ARRAY,
  review boolean,
  CONSTRAINT Recipes_pkey PRIMARY KEY (id),
  CONSTRAINT Recipes_difficulty_fkey FOREIGN KEY (difficulty) REFERENCES public.Levels(id),
  CONSTRAINT Recipes_order_fkey FOREIGN KEY (order) REFERENCES public.Orders(id),
  CONSTRAINT Recipes_source_fkey FOREIGN KEY (source) REFERENCES public.Sources(id),
  CONSTRAINT Recipes_type_fkey FOREIGN KEY (type) REFERENCES public.Types(id)
);
CREATE TABLE public.Relationship_recipes (
  id bigint GENERATED ALWAYS AS IDENTITY NOT NULL,
  created_at timestamp with time zone NOT NULL DEFAULT now(),
  father_recipe bigint,
  daughter_recipe bigint,
  CONSTRAINT Relationship_recipes_pkey PRIMARY KEY (id),
  CONSTRAINT Relationship_recipes_father_recipe_fkey FOREIGN KEY (father_recipe) REFERENCES public.Recipes(id),
  CONSTRAINT Relationship_recipes_daughter_recipe_fkey FOREIGN KEY (daughter_recipe) REFERENCES public.Recipes(id)
);
CREATE TABLE public.Sources (
  id bigint GENERATED ALWAYS AS IDENTITY NOT NULL,
  created_at timestamp with time zone NOT NULL DEFAULT now(),
  name text,
  CONSTRAINT Sources_pkey PRIMARY KEY (id)
);
CREATE TABLE public.Tags (
  id bigint GENERATED ALWAYS AS IDENTITY NOT NULL,
  name text,
  color text,
  created_at timestamp with time zone NOT NULL DEFAULT now(),
  CONSTRAINT Tags_pkey PRIMARY KEY (id)
);
CREATE TABLE public.Types (
  id bigint GENERATED ALWAYS AS IDENTITY NOT NULL,
  name text UNIQUE,
  color text,
  created_at timestamp with time zone NOT NULL DEFAULT now(),
  CONSTRAINT Types_pkey PRIMARY KEY (id)
);
CREATE TABLE public.Units (
  id bigint GENERATED ALWAYS AS IDENTITY NOT NULL,
  name text,
  created_at timestamp with time zone NOT NULL DEFAULT now(),
  CONSTRAINT Units_pkey PRIMARY KEY (id)
);